{% extends 'layouts/base.html.twig' %}

{% block title %}{{ article_title|replace({'_': ' '})|title }}{% endblock %}

{% block body %}
    <section class="py-16 max-w-[1280px] mx-auto px-4">
        <!-- Article Header -->
        <div class="flex items-center mb-4">
            <img src="{{ asset('build/images/users/nimbus.jpg') }}" alt="User Photo" class="w-10 h-10 rounded-full mr-3">
            <div>
                <p class="text-sm text-gray-400">Powered by The Neutral Report</p>
                <p class="text-sm text-[var(--purple-accent)]">Nimbus</p>
            </div>
        </div>

        <!-- Article Title and Date -->
        <h1 class="text-4xl font-bold text-gray-100 mb-4">{{ article_title|replace({'_': ' '})|title }}</h1>
        <p class="text-gray-400 mb-4">Published on {{ date }}</p>

        <!-- Bias Meter -->
        <div class="flex items-center mb-6">
            <span class="text-gray-400 mr-2">Bias Meter:</span>
            <div class="w-32 h-4 bg-gray-700 rounded-full overflow-hidden">
                <div class="h-full bias-meter-bar" style="width: 20%;"></div>
            </div>
            <span class="text-gray-400 ml-2">20% (Low Bias)</span>
        </div>

        <!-- Article Content -->
        <div class="prose prose-invert max-w-none mb-8">
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
        </div>

        <!-- Interaction Icons -->
        <div class="flex justify-between items-center mb-8">
            <div class="flex space-x-4">
                <div class="flex items-center text-gray-400 post-interaction">
                    <svg class="w-5 h-5 mr-1" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                    </svg>
                    <span>65</span>
                </div>
                <div class="flex items-center text-gray-400 post-interaction">
                    <svg class="w-5 h-5 mr-1" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.70l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.70L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"/>
                    </svg>
                    <span>34</span>
                </div>
                <div class="flex items-center text-gray-400 post-interaction">
                    <svg class="w-5 h-5 mr-1" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"/>
                    </svg>
                    <span>Save</span>
                </div>
                <div class="flex items-center text-gray-400 post-interaction">
                    <svg class="w-5 h-5 mr-1" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                    </svg>
                    <span>Add to List</span>
                </div>
            </div>
            <a href="#comments" class="text-gray-400 post-interaction">Comments (18)</a>
        </div>

        <!-- Comment Section -->
        <div id="comments" class="space-y-6">
            <h2 class="text-2xl font-semibold text-gray-100 mb-4">Comments</h2>
            <!-- Comment Form -->
            <form action="{{ path('add_comment') }}" method="POST" class="mb-6">
                <textarea name="comment" rows="4" class="w-full p-3 bg-gray-700 text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--purple-accent)]" placeholder="Add your comment..."></textarea>
                <button type="submit" class="mt-2 bg-[var(--purple-accent)] text-white px-6 py-2 rounded-lg hover:bg-purple-600 transition">Submit</button>
            </form>
            <!-- Sample Comments -->
            <div class="bg-[var(--dark-bg)] p-4 rounded-lg shadow-lg">
                <div class="flex items-center mb-2">
                    <img src="{{ asset('build/images/users/alice.jpg') }}" alt="User Photo" class="w-8 h-8 rounded-full mr-2">
                    <div>
                        <p class="text-sm text-[var(--purple-accent)]">Alice</p>
                        <p class="text-xs text-gray-400">2 hours ago</p>
                    </div>
                </div>
                <p class="text-gray-300">Great article! AviyonOS sounds like a game-changer for developers.</p>
            </div>
            <div class="bg-[var(--dark-bg)] p-4 rounded-lg shadow-lg">
                <div class="flex items-center mb-2">
                    <img src="{{ asset('build/images/users/bob.jpg') }}" alt="User Photo" class="w-8 h-8 rounded-full mr-2">
                    <div>
                        <p class="text-sm text-[var(--purple-accent)]">Bob</p>
                        <p class="text-xs text-gray-400">5 hours ago</p>
                    </div>
                </div>
                <p class="text-gray-300">I’m excited to try this out. The cloud IDE feature is exactly what I’ve been looking for!</p>
            </div>
        </div>
    </section>
{% endblock %}
